<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Monitoring System</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css"> <!-- Link to your external CSS -->
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="text-center mb-4">
        <h1>Weather Monitoring System</h1>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="input-group mb-3">
                <input type="text" id="city-input" class="form-control" placeholder="Enter City Name">
                <button id="getWeatherBtn" class="btn btn-primary" onclick="fetchWeatherData()">Get Weather</button>
            </div>

            <div class="input-group mb-3">
                <input type="number" id="min-threshold" class="form-control" placeholder="Min Temp Threshold (°C)">
                <input type="number" id="max-threshold" class="form-control" placeholder="Max Temp Threshold (°C)">
            </div>
            <div class="input-group mb-3">
                <input type="text" id="weather-condition-threshold" class="form-control" placeholder="Enter Weather Condition (e.g., Rain, Clouds)">
            </div>

            <div id="loading-spinner" style="display:none; text-align:center;">
                <img src="/images/Ellipsis@1x-1.0s-200px-200px.gif" alt="Loading..." />
            </div>

            <div class="card p-4 shadow-sm">
                <div class="card-header text-center">
                    <h5 id="city" class="card-title"></h5>
                </div>
                <div class="card-body">
                    <div class="current-weather text-center">
                        <h2 id="temperature"></h2>
                        <p class="feels-like">Feels Like: <span id="feels-like"></span> °C</p>
                        <p class="condition">Condition: <span id="condition"></span> <img src="/images/icons8-weather-64.png" class="weather-icon"></p>
                    </div>
                    <div class="weather-details">
                        <p><strong>Max Temp:</strong> <span id="max-temp"></span> °C</p>
                        <p><strong>Min Temp:</strong> <span id="min-temp"></span> °C</p>
                        <p><strong>Avg Temp:</strong> <span id="avg-temp"></span> °C</p>
                        <p><strong>Wind Speed:</strong> <span id="wind-speed"></span> m/s</p>
                        <p><strong>Humidity:</strong> <span id="humidity"></span> %</p>
                        <p><strong>Pressure:</strong> <span id="pressure"></span> hPa</p>
                        <p><strong>Visibility:</strong> <span id="visibility"></span> m</p>
                        <p><strong>Cloudiness:</strong> <span id="cloudiness"></span> %</p>
                        <p><strong>Dominant Weather Condition:</strong> <span id="dominant-condition"></span></p>

                    </div>

                    <!-- AQI Section with Box -->
                    <div class="air-quality-index-box text-center mt-4">
                        <h4 class="text-primary">Air Quality Index (AQI)</h4>
                        <div id="aqi-display" class="display-4 text-danger font-weight-bold"></div>
                        <div id="aqi-category" class="font-weight-bold text-uppercase mt-2"></div>
                        <div id="aqi-description" class="text-muted mt-2"></div>
                    </div>



                    <p id="last-updated" class="text-muted">Last updated: </p>
                    <p id="alert-message" class="text-danger"></p>
                    <canvas id="weatherChart" class="mx-auto d-block" width="600" height="400"></canvas>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-header">
                    <h5>Historical Weather Data</h5>
                </div>
                <div class="card-body">
                    <input type="date" id="historical-date-input" class="form-control my-2" value="">
                    <button id="getHistoricalWeatherBtn" class="btn btn-primary" onclick="fetchHistoricalWeatherData()">Get Historical Weather</button>
                    <div id="historical-data-output" class="mt-3"></div>
                    <canvas id="historicalWeatherChart" class="mx-auto d-block" width="600" height="400"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
